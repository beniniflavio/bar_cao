<h2>Conta</h2>
<h3>Mesa: {{ wrapperMesa.msgSaida[0].identificacao}}</h3>

<ng-container *ngIf="success == 'acesso'">
  <p>Digite a Chave</p>
  <form class="row g-3" [formGroup]="formulario" (ngSubmit)="onSubmit()">

    <input type="hidden" name="idHash" formControlName="idMesa">

    <div class="mb-3">
      <label for="acesso" class="form-label">Chave</label>
      <input type="password" class="form-control" id="chave" formControlName="chave" required [maxLength]="4" size="4">
    </div>

    <div class="mb-3">
      <button class="btn btn-primary" type="submit"> Enviar</button>
    </div>
  </form>
</ng-container>



<ng-container *ngIf="success != 'acesso' && tipo == 'resumo'">
  <button type="button" class="btn btn-primary ml-1" (click)="resumodetalhe()"> Detalhe</button>
  <hr>
  <ol class="list-group list-group-numbered">
    <li class="list-group-item d-flex justify-content-between align-items-start"
      *ngFor="let item of wrapperConsumo.msgSaida[0].resumo ">
      <div class="ms-2 me-auto">
        <div class="fw-bold">{{item.mercadoria}}</div>
        Preço Unitário : R{{ item.preco | currency }}<br>
        Sub Total : R{{ item.preco*item.quantidade | currency }}
      </div>
      <span class="badge bg-primary rounded-pill">{{ item.quantidade }}</span>
    </li>
  </ol>
  <br>
  <h2 class="text-end">
    Total: {{ wrapperConsumo.msgSaida[0].total | currency}}
  </h2>
</ng-container>

<ng-container *ngIf="success != 'acesso' && tipo == 'detalhe'">
  <button type="button" class="btn btn-primary ml-1" (click)="resumodetalhe()"> Detalhe</button>
  <hr>
  <ol class="list-group list-group-numbered">
    <li class="list-group-item d-flex justify-content-between align-items-start"
      *ngFor="let item of wrapperConsumo.msgSaida[0].consumos ">
      <div class="ms-2 me-auto">
        <div class="fw-bold">{{item.mercadoria.nome}}</div>
        Preço Unitário : R{{ item.mercadoria.valor | currency }}<br>
        Sub Total : R{{ item.mercadoria.valor| currency }}
      </div>
      <span class="badge bg-primary rounded-pill">{{ 1 }}</span>
    </li>
  </ol>
  <br>
  <h2 class="text-end">
    Total: {{ wrapperConsumo.msgSaida[0].total | currency}}
  </h2>
</ng-container>
